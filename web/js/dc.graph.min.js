/*!
 *  dc.graph 2.1.0-dev
 *  http://dc-js.github.io/dc.graph.js/
 *  Copyright 2015 Gordon Woodhull
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

!function(){function a(a,b,c){"use strict";var d={version:"2.1.0-dev"},e=function(a){var b=a,c=null,d=function(a){return arguments.length?(b=a,c&&c(),this):b};return d.react=function(a){return arguments.length?(c=a,this):c},d};return d.diagram=function(b,d){function f(){n=cola.d3adaptor().avoidOverlaps(!0).size([i.width(),i.height()]),i.modLayout()&&i.modLayout()(n)}function g(a){return function(b){return a(b.orig)}}function h(){return j=i.root().append("svg").attr("width",i.width()).attr("height",i.height())}var i={},j=null,k=null,l=null,m=null,n=null,o=25;return i.root=e(null),i.width=e(200),i.height=e(200),i.nodeDim=e(),i.nodeGroup=e(),i.edgeDim=e(),i.edgeGroup=e(),i.nodeKeyAccessor=e(function(a){return a.key}),i.edgeKeyAccessor=e(function(a){return a.key}),i.sourceAccessor=e(),i.targetAccessor=e(),i.nodeRadiusAccessor=e(function(){return o}),i.nodeColorAccessor=e(function(){return"white"}),i.nodePadding=e(6),i.nodeLabelAccessor=e(function(a){return a.value.label}),i.transitionDuration=e(500),i.constrain=e(function(){return[]}),i.initLayoutOnRedraw=e(!1),i.modLayout=e(function(){}),i.redraw=function(){var a=i.nodeGroup().all(),b=i.edgeGroup().all(),c=a.reduce(function(a,b,c){return a[i.nodeKeyAccessor()(b)]=c,a},{}),d=a.map(function(a){return{orig:a,width:2*i.nodeRadiusAccessor()(a)+i.nodePadding(),height:2*i.nodeRadiusAccessor()(a)+i.nodePadding()}}),e=b.map(function(a){return{orig:a,source:c[i.sourceAccessor()(a)],target:c[i.targetAccessor()(a)]}}).filter(function(a){return void 0!==a.source&&void 0!==a.target}),h=m.selectAll(".edge").data(e,g(i.edgeKeyAccessor())),j=(h.enter().append("svg:path").attr("class","edge"),h.exit());j.remove();var k=l.selectAll(".node").data(d,g(i.nodeKeyAccessor())),o=k.enter().append("g").attr("class","node");o.append("circle"),o.append("text").attr("class","nodelabel"),k.select("circle").attr("r",g(i.nodeRadiusAccessor())).attr("fill",g(i.nodeColorAccessor())),k.select("text").text(g(i.nodeLabelAccessor()));var p=k.exit(),q=i.constrain()(d,e);return p.remove(),i.initLayoutOnRedraw()&&f(),n.nodes(d).links(e).constraints(q).start(10,20,20).on("tick",function(){h.attr("d",function(a){var b=a.target.x-a.source.x,c=a.target.y-a.source.y,d=Math.sqrt(b*b+c*c),e=b/d,f=c/d,g=i.nodeRadiusAccessor()(a.source.orig)-1,h=i.nodeRadiusAccessor()(a.target.orig)-1,j=a.source.x+g*e,k=a.source.y+g*f,l=a.target.x-h*e,m=a.target.y-h*f;return"M"+j+","+k+"L"+l+","+m}).attr("width",function(a){var b=a.source.x-a.target.x,c=a.source.y-a.target.y;return Math.sqrt(b*b+c*c)}),k.attr("transform",function(a){return"translate("+a.x+","+a.y+")"})}),this},i.render=function(){return i.initLayoutOnRedraw()||f(),i.resetSvg(),k=j.append("g"),m=k.append("g"),l=k.append("g"),i.redraw()},i.select=function(a){return i.root().select(a)},i.resetSvg=function(){return i.select("svg").remove(),h()},i.root(a.select(b)),c.registerChart(i,d),i},d.d3=a,d.crossfilter=b,d.dc=c,d}if("function"==typeof define&&define.amd)define(["d3","crossfilter","dc"],a);else if("object"==typeof module&&module.exports){var b=require("d3"),c=require("crossfilter");"function"!=typeof c&&(c=c.crossfilter);var d=require("dc");module.exports=a(b,c,d)}else this.dc_graph=a(d3,crossfilter,dc)}();
//# sourceMappingURL=dc.graph.min.js.map